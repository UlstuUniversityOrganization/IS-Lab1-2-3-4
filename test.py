import hashlib

# Функция для хэширования и конкатенации с возвратом первых k битов
def H(s, k):
    # Инициализация s0
    s_i = s.encode()  # Преобразуем строку в байты
    
    # Для хранения результатов конкатенации
    result = s_i
    
    # Циклически вычисляем новые значения s_i и конкатенируем
    while len(result) * 8 < k:
        # Хэшируем текущее значение s_i
        s_i = hashlib.sha256(result).digest()
        # Конкатенируем новое значение
        result += s_i
    
    # Преобразуем результат в двоичную строку и вернем первые k бит
    result_bits = ''.join(f'{byte:08b}' for byte in result)  # Преобразуем байты в двоичные строки
    return result_bits[:k]

# Пример использования
s = "hi"
k = 64  # Количество битов, которые нужно вернуть
output = H(s, k)
print(f"Первые {k} битов: {output}")
